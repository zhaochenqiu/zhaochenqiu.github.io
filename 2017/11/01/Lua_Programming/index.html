<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Lua Programming | Zhao, Chenqiu&#39; Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="The records of learning lua. All the sources code are captured from “Programming in Lua”">
<meta name="keywords" content="Lua">
<meta property="og:type" content="article">
<meta property="og:title" content="Lua Programming">
<meta property="og:url" content="http://yoursite.com/2017/11/01/Lua_Programming/index.html">
<meta property="og:site_name" content="Zhao, Chenqiu&#39; Blog">
<meta property="og:description" content="The records of learning lua. All the sources code are captured from “Programming in Lua”">
<meta property="og:updated_time" content="2018-02-06T05:46:55.674Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Lua Programming">
<meta name="twitter:description" content="The records of learning lua. All the sources code are captured from “Programming in Lua”">
  
    <link rel="alternative" href="/atom.xml" title="Zhao, Chenqiu&#39; Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/http://oayoilchh.bkt.clouddn.com/2016/07/27/18:05:26%20">
  
  
      <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- 加载特效 -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet" />
  <script>
      var yiliaConfig = {
          rootUrl: '/',
          fancybox: true,
          animate: true,
          isHome: false,
          isPost: true,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
        <a href="/" class="profilepic">
            
            <img lazy-src="img/head.jpg" class="js-avatar">
            
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">Zhao, Chenqiu</a></h1>
        </hgroup>
        
        <p class="header-subtitle">Do What You Like, Like What You Do</p>
        
        
            <form>
                <input type="text" class="st-default-search-input search" id="local-search-input" placeholder="搜索一下" autocomplete="off">
            </form>
            <div id="local-search-result"></div>
        
        
            <script type="text/javascript">
                (function() {
                    'use strict';
                    function getMatchData(keyword, data) {
                        var matchData = [];
                        for(var i =0;i<data.length;i++){
                            if(data[i].title.toLowerCase().indexOf(keyword)>=0) 
                                matchData.push(data[i])
                        }
                        return matchData;
                    }
                    var $input = $('#local-search-input');
                    var $resultContent = $('#local-search-result');
                    $input.keyup(function(){
                        $.ajax({
                            url: '/search.json',
                            dataType: "json",
                            success: function( json ) {
                                var str='<ul class=\"search-result-list\">';                
                                var keyword = $input.val().trim().toLowerCase();
                                $resultContent.innerHTML = "";
                                if ($input.val().trim().length <= 0) {
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                }
                                var results = getMatchData(keyword, json);
                                if(results.length === 0){
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                } 
                                for(var i =0; i<results.length; i++){
                                    str += "<li><a href='"+ results[i].url +"' class='search-result-title'>"+ results[i].title +"</a></li>";
                                }
                                str += "</ul>";
                                $resultContent.empty();
                                $resultContent.append(str);
                                $('#switch-area').hide();
                            }
                        });
                    });
                })();
            </script>
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        
        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a  href="http://bestwing.me">博客首页</a></li>
                        
                            <li><a  href="/archives">文章归档</a></li>
                        
                            <li><a  href="/CTFStudy">学习导航</a></li>
                        
                            <li><a  href="/PWNABLE">PWNABLE</a></li>
                        
                            <li><a  href="/resume">个人简历</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl mail"  target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=kvH99PT39-Dn_efS5PvivOPjvPH9-w" title="mail">mail</a>
                            
                                <a class="fl github"  target="_blank" href="https://github.com/WinMin" title="github">github</a>
                            
                                <a class="fl zhihu"  target="_blank" href="https://www.zhihu.com/people/Swings" title="zhihu">zhihu</a>
                            
                                <a class="fl weibo"  target="_blank" href="http://weibo.com/2672317963/profile?topnav=1&wvr=6&is_all=1" title="weibo">weibo</a>
                            
                                <a class="fl rss"  target="_blank" href="/atom.xml" title="rss">rss</a>
                            
                        </ul>
                    </nav>
                </section>
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/C-数据结构/" style="font-size: 10px;">C++/数据结构</a> <a href="/tags/Linux/" style="font-size: 20px;">Linux</a> <a href="/tags/Lua/" style="font-size: 10px;">Lua</a> <a href="/tags/RouterOs/" style="font-size: 10px;">RouterOs</a> <a href="/tags/图像处理/" style="font-size: 10px;">图像处理</a> <a href="/tags/数学公式/" style="font-size: 10px;">数学公式</a> <a href="/tags/算法/" style="font-size: 10px;">算法</a> <a href="/tags/计算机网络/" style="font-size: 10px;">计算机网络</a>
                    </div>
                </section>
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://ring3.xyz/">Yllen</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://mxny.org/">麦香浓郁</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://whereisk0shl.top/">K0sh1</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.ycjcl.cc/">信鑫</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://bystudent.com/">ByStundet表哥</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://www.jarviswang.me/">汪神_Jarvis</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://sh3ll.me/">Chu</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://www.hackfun.org/">4ido10n</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.cnblogs.com/iamstudy">L3m0n</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://o0xmuhe.me/">muhe</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://blog.nuptzj.cn/">_画船听雨</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.virzz.com/index.html">Virink</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.sqlsec.com/">国光</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.bodkin.ren/">老锥</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.cizel.cn/">C1zel</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://1phan.cc">1phan</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://www.liuil.top/">liuil</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.cnblogs.com/Ox9A82/">Ox9A82</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://burnegg.com/">burnegg</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://jwrsec.cn/">jwr-sec</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://sudalover.cn/">苏打</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://blog.binklac.com">VeroFess</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.bendawang.site/">bendawang</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://weeklyalgo.codes/">hook</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.flier.net.cn/">Flier&#39;blog</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.mutepig.club">mutepig</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://blog.iret.xyz/list.aspx">Silver</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://simp1e.leanote.com/">Simple</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://processor.pub/">Processor</a>
                    
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">一只淹死在二进制海洋里的二进制狗</div>
                </section>
                
            </div>
        </div>
    </header>
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="Me">Zhao, Chenqiu</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/head.jpg" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="Me">Zhao, Chenqiu</a></h1>
            </hgroup>
            
            <p class="header-subtitle">Do What You Like, Like What You Do</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="http://bestwing.me">博客首页</a></li>
                
                    <li><a href="/archives">文章归档</a></li>
                
                    <li><a href="/CTFStudy">学习导航</a></li>
                
                    <li><a href="/PWNABLE">PWNABLE</a></li>
                
                    <li><a href="/resume">个人简历</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=kvH99PT39-Dn_efS5PvivOPjvPH9-w" title="mail">mail</a>
                    
                        <a class="github" target="_blank" href="https://github.com/WinMin" title="github">github</a>
                    
                        <a class="zhihu" target="_blank" href="https://www.zhihu.com/people/Swings" title="zhihu">zhihu</a>
                    
                        <a class="weibo" target="_blank" href="http://weibo.com/2672317963/profile?topnav=1&wvr=6&is_all=1" title="weibo">weibo</a>
                    
                        <a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
                    
                </div>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap"><article id="post-Lua_Programming" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/11/01/Lua_Programming/" class="article-date">
      <time datetime="2017-10-31T16:00:00.000Z" itemprop="datePublished">2017-11-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Lua Programming
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        

        
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Lua/">Lua</a></li></ul>
    </div>

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>The records of learning lua. All the sources code are captured from “Programming in Lua”
<a id="more"></a></p>
<h1 id="First-lua-program"><a href="#First-lua-program" class="headerlink" title="First lua program"></a>First lua program</h1><p>To keep with the tradition, the first program just prints “Hello World”
    print(“Hello World”);
You can input the code in th command line,
or save it into a file such as “hello.lua”.
Then run ‘th hello.lua’</p>
<h1 id="Factorial-of-a-given-number"><a href="#Factorial-of-a-given-number" class="headerlink" title="Factorial of a given number"></a>Factorial of a given number</h1><p>The following program defines a function to compute the factorial of a given number,
asks the user for a number, and print its factorial:</p>
<pre><code>-- defines a factorial function
function fact (n)
    if n == 0 then
        return 1
    else
        return n * fact(n - 1)
    end
end

print(&quot;enter a number:&quot;)
a = io.read(&quot;*number&quot;)
print(fact(a))
</code></pre><h1 id="Chunks"><a href="#Chunks" class="headerlink" title="Chunks"></a>Chunks</h1><p>The piece of code that Lua executes is called a <em>chunk</em>.
Both the semicolons and line break play no role in Lua’s syntax.
The following four chunks are all valid and equivalent:
    a = 1
    b = a*2</p>
<pre><code>a = 1;
b = a*2;

a = 1 ; b = a*2

a = 1   b = a*2    -- ugly, but valid
</code></pre><h1 id="Call-functions-from-files"><a href="#Call-functions-from-files" class="headerlink" title="Call functions from files"></a>Call functions from files</h1><p>Let’s denote that there is a file lib1.lua
    – file ‘lib1.lua’
    function norm (x, y)
        local n2 = x^2 + y^2
        return math.sqrt(n2)
    end</p>
<pre><code>function twice (x)
    return 2 * x
end
</code></pre><p>Then, in interactive mode, type following commands:</p>
<pre><code>&gt; dofile(&quot;lib1.lua&quot;)   -- load your library
&gt; n = norm(3.4, 1.0)
&gt; print(twice(n))      --&gt; 7.0880180586677
</code></pre><h1 id="Global-Variables"><a href="#Global-Variables" class="headerlink" title="Global Variables"></a>Global Variables</h1><p>All the variables in Lua re global variables, even the variables defined in a function.
Example, if we have a lua chunks named “lib2.lua” contains codes like following:
    function testfun (x)
        g_a = x
    end
Then, in the interactive mode,  type following:</p>
<pre><code>&gt; dofile(&quot;lib2.lua&quot;)
&gt; testfun(20)
&gt; print(g_a)
</code></pre><h1 id="Eight-basic-typles-in-Lua"><a href="#Eight-basic-typles-in-Lua" class="headerlink" title="Eight basic typles in Lua"></a>Eight basic typles in Lua</h1><p>Lua is a dynamically typed language. Each value carries its own type.
There are eight basic types in Lua: nil, boolean, number, string, userdata, function, thread, and table
Type the codes shown following:</p>
<pre><code>print(type(&quot;Hello world&quot;))  --&gt; string
print(type(10.4*3))         --&gt; number
print(type(print))          --&gt; function
print(type(type))           --&gt; function
print(type(true))           --&gt; boolean
print(type(nil))            --&gt; nil
print(type(type(X)))        --&gt; string

print(type(a))   --&gt; nil   (`a&apos; is not initialized)
a = 10
print(type(a))   --&gt; number
a = &quot;a string!!&quot;
print(type(a))   --&gt; string
a = print        -- yes, this is valid!
a(type(a))       --&gt; function
</code></pre><h1 id="Tables"><a href="#Tables" class="headerlink" title="Tables"></a>Tables</h1><p>The table type implements associative arrays. An associative array is an array that can be indexed not only with numbers, but also with strings or any other value of the language,
except nil. Moreover, tables have no fixed size; you can add as many elements as you want to a table dynamically.
Tables in Lua are neither values nor variables; they are objects. <strong>You create tables by means of a constructor expression, which in its simplest form is written as {}:</strong></p>
<pre><code>-- create a table in Lua
a = {}
k = &quot;x&quot;
a[k] = 10
a[20] = &quot;great&quot;
print(a[&quot;x&quot;])
k = 20
print(a[k])
a[&quot;x&quot;] = a[&quot;x&quot;] + 1
print(a[&quot;x&quot;])
</code></pre><p>In my opinion, the table just like a mixture of dynamic array and hash array.</p>
<p>A table is anonymous, there is no fixed relationship between a variable that holds a table and the table itself:</p>
<pre><code>a = {}
a[&quot;x&quot;] = 10
b = a      -- `b&apos; refers to the same table as `a&apos;
print(b[&quot;x&quot;])  --&gt; 10
b[&quot;x&quot;] = 20
print(a[&quot;x&quot;])  --&gt; 20
a = nil    -- now only `b&apos; still refers to the table
b = nil    -- now there are no references left to the table
</code></pre><p>The Lua has garbage recollection, the Lua management will eventually delete the table, to which there is no references.
There are some tricks about using table:</p>
<pre><code>a.x = 10                    -- same as a[&quot;x&quot;] = 10
print(a.x)                  -- same as print(a[&quot;x&quot;])
print(a.y)                  -- same as print(a[&quot;y&quot;])
a = {}
x = &quot;y&quot;
a[x] = 10                 -- put 10 in field &quot;y&quot;
print(a[x])   --&gt; 10      -- value of field &quot;y&quot;
print(a.x)    --&gt; nil     -- value of field &quot;x&quot; (undefined)
print(a.y)    --&gt; 10      -- value of field &quot;y&quot;
</code></pre><h1 id="Operators"><a href="#Operators" class="headerlink" title="Operators"></a>Operators</h1><h2 id="Arithmetic-Operators"><a href="#Arithmetic-Operators" class="headerlink" title="Arithmetic Operators"></a>Arithmetic Operators</h2><p>Lua supports the usual arithmetic operators: the binary <code>+´ (addition),</code>-´ (subtraction), <code>*´ (multiplication),</code>/´ (division), and the unary `-´ (negation). All of them operate on real numbers. 
Lua provides the following relational operators:</p>
<pre><code>&lt;   &gt;   &lt;=  &gt;=  ==  ~=
</code></pre><p>All these operators always result in true or false. </p>
<h2 id="Logical-Operators"><a href="#Logical-Operators" class="headerlink" title="Logical Operators"></a>Logical Operators</h2><p>The logical operators are and, or, and not. Like control structures, all logical operators consider false and nil as false and anything else as true. The operator and returns its first argument if it is false; otherwise, it returns its second argument. The operator or returns its first argument if it is not false; otherwise, it returns its second argument:</p>
<pre><code>print(4 and 5)         --&gt; 5
print(nil and 13)      --&gt; nil
print(false and 13)    --&gt; false
print(4 or 5)          --&gt; 4
print(false or 5)      --&gt; 5
</code></pre><h2 id="Concatenation"><a href="#Concatenation" class="headerlink" title="Concatenation"></a>Concatenation</h2><pre><code>print(&quot;Hello &quot; .. &quot;World&quot;)  --&gt; Hello World
print(0 .. 1)               --&gt; 01
a = &quot;Hello&quot;
print(a .. &quot; World&quot;)   --&gt; Hello World
print(a)               --&gt; Hello
</code></pre><h2 id="Precedence"><a href="#Precedence" class="headerlink" title="Precedence"></a>Precedence</h2><p>Operator precedence in Lua follows the table below, from the higher to the lower priority:</p>
<pre><code>^
not  - (unary)
*   /
+   -
..
&lt;   &gt;   &lt;=  &gt;=  ~=  ==
and
or
</code></pre><p>Some examples of precedence</p>
<pre><code>a+i &lt; b/2+1          &lt;--&gt;       (a+i) &lt; ((b/2)+1)
5+x^2*8              &lt;--&gt;       5+((x^2)*8)
a &lt; y and y &lt;= z     &lt;--&gt;       (a &lt; y) and (y &lt;= z)
-x^2                 &lt;--&gt;       -(x^2)
x^y^z                &lt;--&gt;       x^(y^z)
</code></pre><h1 id="Statements"><a href="#Statements" class="headerlink" title="Statements"></a>Statements</h1><h2 id="Local-Variables-and-Blocks"><a href="#Local-Variables-and-Blocks" class="headerlink" title="Local Variables and Blocks"></a>Local Variables and Blocks</h2><p>Besides global variables, Lua supports local variables. We create local variables with the local statement: </p>
<pre><code>j = 10         -- global variable
local i = 1    -- local variable
x = 10
local i = 1        -- local to the chunk

while i&lt;=x do
  local x = i*2    -- local to the while body
  print(x)         --&gt; 2, 4, 6, 8, ...
  i = i + 1
end

if i &gt; 20 then
  local x          -- local to the &quot;then&quot; body
  x = 20
  print(x + 2)
else
  print(x)         --&gt; 10  (the global one)
end

print(x)           --&gt; 10  (the global one)
</code></pre><h2 id="if-then-else"><a href="#if-then-else" class="headerlink" title="if then else"></a>if then else</h2><pre><code>if a&lt;0 then a = 0 end

if a&lt;b then return a else return b end

if line &gt; MAXLINES then
  showpage()
  line = 0
end
</code></pre><p>When you write nested ifs, you can use elseif. It is similar to an else followed by an if, but it avoids the need for multiple ends:</p>
<pre><code>if op == &quot;+&quot; then
  r = a + b
elseif op == &quot;-&quot; then
  r = a - b
elseif op == &quot;*&quot; then
  r = a*b
elseif op == &quot;/&quot; then
  r = a/b
else
  error(&quot;invalid operation&quot;)
end
</code></pre><h2 id="for"><a href="#for" class="headerlink" title="for"></a>for</h2><pre><code>for i = 1,10 do
    print(i)
end

for i = 1,10,0.5 do
    print(i)
end

a = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;}

for i, v in ipairs(a) do
    a[v] = i
end
</code></pre><h2 id="Functions"><a href="#Functions" class="headerlink" title="Functions"></a>Functions</h2><p>Run a Lua brunk, dofile(“exp6.lua”), dofile ‘exp6.lua’
In Lua, a function is a value with the same rights as conventional values like numbers and strings.</p>
<pre><code>a = {p = print}
a.p(&quot;Hello World&quot;) --&gt; Hello World
print = math.sin  -- `print&apos; now refers to the sine function
a.p(print(1))     --&gt; 0.841470
sin = a.p         -- `sin&apos; now refers to the print function
sin(10, 20)       --&gt; 10      20
</code></pre><h1 id="Common-functions-in-Lua"><a href="#Common-functions-in-Lua" class="headerlink" title="Common functions in Lua"></a>Common functions in Lua</h1><h2 id="convert-string-to-in"><a href="#convert-string-to-in" class="headerlink" title="convert string to in"></a>convert string to in</h2><pre><code>print(tonumber(&quot;10&quot;))       --&gt; 10
print(tonumber(&quot;+10&quot;))      --&gt; 10
print(tonumber(&quot;-10&quot;))      --&gt; -10
print(tonumber(&quot;sdfsdf&quot;))   --&gt; nil
print(tonumber(fs))         --&gt; nil
</code></pre><h2 id="find-a-substr-in-string"><a href="#find-a-substr-in-string" class="headerlink" title="find a substr in string"></a>find a substr in string</h2><pre><code>s, e = string.find(&quot;hello Lua users&quot;, &quot;Lua&quot;)

print(s, e)   --&gt;  7      9
</code></pre>
      
      
        <div class="page-reward">
          <p><a href="javascript:void(0)" onclick="dashangToggle()" class="dashang">赏</a></p>
          <div class="hide_box"></div>
          <div class="shang_box">
            <a class="shang_close" href="javascript:void(0)" onclick="dashangToggle()">×</a>
            <div class="shang_tit">
              <p>纯属好玩</p>
            </div>
            <div class="shang_payimg">
              <img src="/img/alipayimg.jpg" alt="扫码支持" title="扫一扫" />
            </div>
              <div class="pay_explain">扫码打赏，你说多少就多少</div>
            <div class="shang_payselect">
              
                <div class="pay_item checked" data-id="alipay">
                  <span class="radiobox"></span>
                  <span class="pay_logo"><img src="/img/alipay.png" alt="支付宝" /></span>
                </div>
              
              
                <div class="pay_item" data-id="wechat">
                  <span class="radiobox"></span>
                  <span class="pay_logo"><img src="/img/weixin.png" alt="微信" /></span>
                </div>
              
            </div>
            <div class="shang_info">
              <p>打开<span id="shang_pay_txt">支付宝</span>扫一扫，即可进行扫码打赏哦</p>
            </div>
          </div>
        </div>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/zepto/1.2.0/zepto.min.js"></script>
        <script type="text/javascript">
          $(".pay_item").click(function(){
            $(this).addClass('checked').siblings('.pay_item').removeClass('checked');
            var dataid=$(this).attr('data-id');
            $(".shang_payimg img").attr("src","/img/"+dataid+"img.jpg");
            $("#shang_pay_txt").text(dataid=="alipay"?"支付宝":"微信");
          });
          function dashangToggle(){
            
            $(".hide_box").fadeToggle();
            $(".shang_box").fadeToggle();
          }
        </script>
      
    </div>
    
  </div>
  
    
    <div class="copyright">
        <p><span>本文标题:</span><a href="/2017/11/01/Lua_Programming/">Lua Programming</a></p>
        <p><span>文章作者:</span><a href="/" title="访问 Zhao, Chenqiu 的个人博客">Zhao, Chenqiu</a></p>
        <p><span>发布时间:</span>2017年11月01日 - 00时00分</p>
        <p><span>最后更新:</span>2018年02月06日 - 13时46分</p>
        <p>
            <span>原始链接:</span><a class="post-url" href="/2017/11/01/Lua_Programming/" title="Lua Programming">http://yoursite.com/2017/11/01/Lua_Programming/</a>
            <span class="copy-path" data-clipboard-text="原文: http://yoursite.com/2017/11/01/Lua_Programming/　　作者: Zhao, Chenqiu" title="点击复制文章链接"><i class="fa fa-clipboard"></i></span>
            <script src="/js/clipboard.min.js"></script>
            <script> var clipboard = new Clipboard('.copy-path'); </script>
        </p>
        <p>
            <span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" title="中国大陆 (CC BY-NC-SA 3.0 CN)" target = "_blank">"署名-非商用-相同方式共享 3.0"</a> 转载请保留原文链接及作者。
        </p>
    </div>



<nav id="article-nav">
  
    <a href="/2018/02/02/notes1/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          一台机器挂两个github账号
        
      </div>
    </a>
  
  
    <a href="/2016/10/11/ip-firewall-drop/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">routeros 封锁特定网站</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>

    <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#First-lua-program"><span class="toc-number">1.</span> <span class="toc-text">First lua program</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Factorial-of-a-given-number"><span class="toc-number">2.</span> <span class="toc-text">Factorial of a given number</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Chunks"><span class="toc-number">3.</span> <span class="toc-text">Chunks</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Call-functions-from-files"><span class="toc-number">4.</span> <span class="toc-text">Call functions from files</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Global-Variables"><span class="toc-number">5.</span> <span class="toc-text">Global Variables</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Eight-basic-typles-in-Lua"><span class="toc-number">6.</span> <span class="toc-text">Eight basic typles in Lua</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Tables"><span class="toc-number">7.</span> <span class="toc-text">Tables</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Operators"><span class="toc-number">8.</span> <span class="toc-text">Operators</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Arithmetic-Operators"><span class="toc-number">8.1.</span> <span class="toc-text">Arithmetic Operators</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Logical-Operators"><span class="toc-number">8.2.</span> <span class="toc-text">Logical Operators</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Concatenation"><span class="toc-number">8.3.</span> <span class="toc-text">Concatenation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Precedence"><span class="toc-number">8.4.</span> <span class="toc-text">Precedence</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Statements"><span class="toc-number">9.</span> <span class="toc-text">Statements</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Local-Variables-and-Blocks"><span class="toc-number">9.1.</span> <span class="toc-text">Local Variables and Blocks</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#if-then-else"><span class="toc-number">9.2.</span> <span class="toc-text">if then else</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#for"><span class="toc-number">9.3.</span> <span class="toc-text">for</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Functions"><span class="toc-number">9.4.</span> <span class="toc-text">Functions</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Common-functions-in-Lua"><span class="toc-number">10.</span> <span class="toc-text">Common functions in Lua</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#convert-string-to-in"><span class="toc-number">10.1.</span> <span class="toc-text">convert string to in</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#find-a-substr-in-string"><span class="toc-number">10.2.</span> <span class="toc-text">find a substr in string</span></a></li></ol></li></ol>
</div>
<input type="button" id="tocButton" value="隐藏目录"  title="点击按钮隐藏或者显示文章目录">

<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script>
    var valueHide = "隐藏目录";
    var valueShow = "显示目录";

    if ($(".left-col").is(":hidden")) {
        $("#tocButton").attr("value", valueShow);
    }
    $("#tocButton").click(function() {
        if ($("#toc").is(":hidden")) {
            $("#tocButton").attr("value", valueHide);
            $("#toc").slideDown(320);
        }
        else {
            $("#tocButton").attr("value", valueShow);
            $("#toc").slideUp(350);
        }
    })
    if ($(".toc").length < 1) {
        $("#toc, #tocButton").hide();
    }
</script>





<div class="bdsharebuttonbox">
	<a href="#" class="fx fa-weibo bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
	<a href="#" class="fx fa-weixin bds_weixin" data-cmd="weixin" title="分享到微信"></a>
	<a href="#" class="fx fa-qq bds_sqq" data-cmd="sqq" title="分享到QQ好友"></a>
	<a href="#" class="fx fa-facebook-official bds_fbook" data-cmd="fbook" title="分享到Facebook"></a>
	<a href="#" class="fx fa-twitter bds_twi" data-cmd="twi" title="分享到Twitter"></a>
	<a href="#" class="fx fa-linkedin bds_linkedin" data-cmd="linkedin" title="分享到linkedin"></a>
	<a href="#" class="fx fa-files-o bds_copy" data-cmd="copy" title="分享到复制网址"></a>
</div>
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>




    
        <section id="comments">
  <div id="disqus_thread"></div>
    <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'swing'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>
    



    <div class="scroll" id="post-nav-button">
        
            <a href="/2018/02/02/notes1/" title="上一篇: 一台机器挂两个github账号">
                <i class="fa fa-angle-left"></i>
            </a>
        
        <a title="文章列表"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>
        
            <a href="/2016/10/11/ip-firewall-drop/" title="下一篇: routeros 封锁特定网站">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>
    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/02/02/notes1/">一台机器挂两个github账号</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/01/Lua_Programming/">Lua Programming</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/11/ip-firewall-drop/">routeros 封锁特定网站</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/11/26/show-3d/">查看三维图片</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/09/16/twoSum/">leetcode Two Sum</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/09/11/config_vim/">vim配置笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/12/30/mathjax/">MathJax示例</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/12/12/routeros/">RouterOS 的安装和VPN配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2013/10/13/studytree/">利用索引树去统计单词出现频率</a></li></ul>
    <script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
    <script>
        $(".post-list").addClass("toc-article");
        $(".post-list-item a").attr("target","_blank");
        $("#post-nav-button > a:nth-child(2)").click(function() {
            $(".fa-bars, .fa-times").toggle();
            $(".post-list").toggle(300);
            if ($(".toc").length > 0) {
                $("#toc, #tocButton").toggle(200, function() {
                    if ($(".switch-area").is(":visible")) {
                        $("#tocButton").attr("value", valueHide);
                        }
                    })
            }
            else {
            }
        })
    </script>



    <script>
        
    </script>
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2018 Zhao, Chenqiu
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="http://bestwing.me" target="_blank">Sw'blog</a> by Swing
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >海贼到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>

    </div>
    <script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>

    <script>
        $(document).ready(function() {
            var backgroundnum = 24;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(

            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


    <script type="text/javascript">
      window.onload = function(){
        document.getElementById("search").onclick = function(){
            console.log("search")
            search();
        }
      }
      function search(){
        (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
        (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
        e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
        })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

        _st('install','A1Pz-LKMXbrzcFg2FWi6','2.0.0');
      }
    </script>

  </div>
</body>
</html>