title: RouterOS 的安装和VPN配置
date: 2014-12-12 00:43:22
tags: 计算机网络
---

RouterOs 是一个linux路由操作系统，或者叫做软路由，简单的说就是可以把一个普通的PC机变成一个功能强大的路由器。通过这个系统可以搭建VPN服务器然后分网，而且支持各种网络操作，是一个非常强大的linux系统。

# RouterOS 的安装
开始这一步要有足够的耐心，因为根据人品的不同，这一步可能变的特别简单或者特别难。网上也有很多关于安装的教程，这里只记录我们当时是怎么安装成功的，避免以后的人走弯路。


## 需要的工具：
* routeros系统：这里使用的是routeros5.24 完美破解版，[下载地址](http://www.baidu.com)
* 光盘刻录工具：这里使用ultraiso，[下载地址](http://www.baidu.com)
* 光盘一张：虽然routeros5.24是支持U盘安装的，但这里没实验成功，因此使用光盘比较保险。
* 电脑一台：用来安装routeros，最好使用双网卡。


## 操作步骤
+ 把routeros5.24 刻录进光盘中。
+ 使用U盘启动工具进入电脑中，格盘，重新分区，就分一个盘，然后再格一次盘（为了保险）。
+ 将刻好的光盘放入电脑中，然后按F12，选择由光盘启动。

如果看到如下截图，表示成功：
![routeros 安装界面](image/routeros.jpg)
新手建立全部安装，就是把上图中的功能全部勾选，然后下一步。在系统提示的 Do you want to keep old configuration？ [y/n]： 中选择n，不保留以前设置。接着在Continue? [y/n]: 中选择y。然后一直回车。**注意，最后问你是否重启的时候，一定要把光盘取出再重启。**重启后出现下图，那么系统安装成功：
![routeros 安装成功](image/rossuccess.jpg)

# RouterOs的配置
RouterOS搭建VPN有两种方法，一种是[routeros命令行](http://www.baidu.com)，一种是使用 [winbox](http://www.cr173.com/soft/32413.html)。这里着重介绍如何使用命令行进行配置。

## 需要的工具：
* linux 操作系统并已经安装ssh

## 操作步骤
- ### 分配网卡ip地址
这一步必须在routeros系统的机器上进行。routeros的开机界面如下（以下是通过ssh远程上去的，机器实际界面和这个一样）。
![routeros开机界面](image/routeros1.png)
输入 ip address print 就可以查看到当前的连接状态：
![routeros网卡状态](image/routeros2.png)
如果是一台空机器的话，NETWORK 和 ADRESS 项应该就是空的，只有网卡而没有ip地址。输入命令：
ip address add ip-address=10.250.95.40 interface=ether1 
这样网卡1的ip地址就被设置为10.250.95.40。设置好了以后使用winbox就可以连接，或者直接在浏览器中输入地址也可以访问。否则就无法连接。





